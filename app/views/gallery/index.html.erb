<main class="gallery-page">
  <!-- start breadcrumb Box -->
  <% content_for :breadcrumbs do %>
    <%= render partial: 'partials/nav/breadcrumb_nav', locals: { breadcrumbs: [], current_breadcrumb: { name: "Gallery" } } %>
  <% end %>
  <div class="gallery-page-heading-with-background-image">
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <h1 class="page-heading"><%= t("gallery.header") %></h1>
          <p class="page-heading-description"><%= t("gallery.blurb") %></p>
        </div>
      </div>
    </div>
  </div>
  <div class="site-wrap">
    <!-- Start Row -->

    <div class="row category-buttons">
      <!--  -->
      <div class="col-md-12">
      <nav class="gallery-category-menu-and-dropdown">
        <ul class="gallery-category-filters">
          <% gallery_categories.each do |category| %>
            <li class="gallery-category-items">

                <%= link_to t(category[0]), gallery_index_path(category_type: category[1]),
                    class: "#{'active' if params[:category_type].to_s == category[1]}" %>

            </li>
          <% end %>
        </ul>
        <% select_options = [] %>
        <% gallery_categories.each do |category| %>
          <% select_options << [t(category[0]), gallery_index_path(category_type: category[1])] %>
        <%end %>
        <% selected = select_options.select {|g_c| g_c[1] == gallery_index_path(category_type: params[:category_type])}[0] %>
        <%= select_tag "category_type", options_for_select(select_options, selected ) %>

        </nav>
      </div>
      <!--  -->
    </div>

    <div class="row">
      <div class="gallery-page-product-list">
        <% @gallery_items.each do |item| %>
          <%= render partial: "gallery/gallery_product", locals: { item: item } %>
        <% end %>
      </div>
    </div>
    <% if @gallery_items.total_count == 0 %>
      <div class="mb4 u-text-center section section--dark has-tint u-cover pl2 pr2" ,="" >
        <div class="media media--middle media--inline media--tight u-text-center">
          <div class="media__body">
            <h2 class="u-text-contrast"> <%= t("gallery.no_result") %> </h2>
          </div>
        </div>
      </div>
    <% end %>
    <% if @gallery_items.next_page.present? %>
      <div class="row">
        <div class="col-md-12 text-center pagination-load-more">
          <%= link_to t('gallery.show_more'), gallery_index_path(page: @gallery_items.next_page, category_type: params[:category_type]), remote: true, data: { "disable-with": t('gallery.loading') }, class: "btn btn-primary" %>
        </div>
      </div>
    <% end %>
  </div>
</main>

