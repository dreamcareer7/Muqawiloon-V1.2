<ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content popover u-box-shadow list list--unstyled autocomplete--default js-default-results dashboard-search">
  <% Category.includes(:translations).each do |category| %>
    <%= link_to category.name, category_path(category, city: @current_city.slug), class: "popover__link" %>
  <% end %>
</ul>


<%#= content_for :page_scripts do %>
  <script>
    $('.search').on('click', function() {
      if ($('.js-autocomplete-results-ul a').length > 0 ) {
        $('.js-autocomplete-results-ul').show();
      } else {
        $('.js-default-results').addClass('is-visible');
      }
    });

    $('.js-search-field').on('mouseleave', function() {
      $('.js-default-results').removeClass('is-visible');
    });

    $('.search').on('keyup', function() {
      $('.js-default-results').removeClass('is-visible');
    });

  </script>
<%# end %>
