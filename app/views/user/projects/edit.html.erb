<section class="section section--alt in-section" >
  <div class="site-wrap">
    <h1 class="section-heading">Edit Project</h1>
          <%= simple_form_for [:user, @project] do |f| %>
            <%= render partial: "user/project_steps/sub_projects_forms/project_form", locals: { f: f } %>
          <% end %>
    </div>
</section>


<%= content_for :page_scripts do %>
  <%= javascript_include_tag "location-map" %>

  <script>
    $('.control__input').on('change', function() {
      if( $('#project_location_type_other').is(':checked')) {
        $('.js-other-option').removeClass('u-hide');
        $('#other_field').select();
      } else {
        $('.js-other-option').addClass('u-hide');
      };
    });
    
    if( $('#project_location_type_other').is(':checked')) {
      $('.js-other-option').removeClass('u-hide');
      $('#other_field').val(other_field);
    };
    
    <% if @restored %>
      var requiredCategories = "<%= j @required_categories %>".split("");
      var address = "<%= j @address %>"
      var coordinates = "<%= j @coordinates %>".split("");
      var other_field = "<%= j @other_field %>";
    
      $('.js-required-categories').each(function() {
        if (requiredCategories.indexOf(this.value) > -1) {
          $(this).prop('checked', true);
        };
      });
    
      $('#other_field').val(other_field);
      $("#coordinates").val(coordinates);
      $('.js-street-address').val(address);
    <% end %>

    $('.js-toggle-project').on('click', function() {
      $('.js-services').addClass('u-hide');
      $('.js-project').removeClass('u-hide');
    });

    $('.js-toggle-services').on('click', function() {
      $('.js-project').addClass('u-hide');
      $('.js-services').removeClass('u-hide');
    });
  </script>

<% end %>
